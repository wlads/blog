<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: vagrant | Blog da HE:labs]]></title>
  <link href="http://helabs.com.br/blog/categories/vagrant/atom.xml" rel="self"/>
  <link href="http://helabs.com.br/blog/"/>
  <updated>2013-08-30T10:44:41-03:00</updated>
  <id>http://helabs.com.br/blog/</id>
  <author>
    <name><![CDATA[Time HE:labs]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Seu ambiente de trabalho mais limpo usando Vagrant]]></title>
    <link href="http://helabs.com.br/blog/2013/03/05/seu-ambiente-de-trabalho-mais-limpo-usando-vagrant/"/>
    <updated>2013-03-05T10:20:00-03:00</updated>
    <id>http://helabs.com.br/blog/2013/03/05/seu-ambiente-de-trabalho-mais-limpo-usando-vagrant</id>
    <content type="html"><![CDATA[<p>Cada projeto tem suas peculiaridades. Alguns precisam apenas de um <a href="http://www.postgresql.org/">banco de dados</a> para rodar e outros precisam de uma série de serviços adicionais como <a href="http://redis.io/">redis</a> ou <a href="http://sphinxsearch.com/">sphinx</a>. Instalar todos esses serviços diretamente no sistema operacional é uma opção, mas com o tempo a <a href="http://en.wikipedia.org/wiki/Software_erosion">erosão</a> atua e por muitas vezes os serviços ou o próprio sistema começam a apresentar problemas.</p>

<!-- more -->


<h3>Os serviços e o sistema sofrem erosão</h3>

<p>Um exemplo bem simples de <a href="http://en.wikipedia.org/wiki/Software_erosion">erosão</a> ocorreu comigo há alguns dias. Fazia muito tempo que não rodava um projeto que usasse o <a href="http://www.mongodb.org/">mongodb</a> como banco de dados.</p>

<p>Quando precisei, percebi que o serviço não estava no ar. Avaliando os logs do sistema descobri que a cada 10 segundos o sistema tentava subir o serviço, mas por algum motivo ele dava um <a href="http://en.wikipedia.org/wiki/Segmentation_fault">segmentation fault</a>. O motivo do problema pode ter sido algumas das dezenas de atualizações feitas no sistema operacional e que podem ter atualizado uma biblioteca qualquer para uma versão incompatível com a versão do <a href="http://www.mongodb.org/">mongodb</a> que estava instalada.</p>

<p>Esse problema poderia estar acontecendo há meses, sem que eu percebesse. Não só influenciando no serviço específico, mas também degradando o sistema operacional como um todo.</p>

<h3>Vagrant como fornecedor de serviços</h3>

<p>Algumas pessoas utilizam o <a href="http://www.vagrantup.com/">Vagrant</a> como ambiente completo de desenvolvimento. Eu estou feliz com o ambiente que tenho no Mac OSX, me dou bem com o <a href="http://mxcl.github.com/homebrew/">brew</a> e não tenho interesse em desenvolver dentro de uma máquina Linux. Nem mesmo por questões de compatibilidade. Nos dias de hoje são mínimas as diferenças e os problemas que podem ocorrer por desenvolver num ambiente e rodar em outro.</p>

<p>Minha proposta é utilizar o <a href="http://www.vagrantup.com/">Vagrant</a> como fornecedor de serviços para o ambiente de desenvolvimento. Através da funcionalidade <a href="http://docs.vagrantup.com/v1/docs/config/vm/forward_port.html">forward_port</a> do <a href="http://www.vagrantup.com/">Vagrant</a> é possível rodar um serviço dentro da VM e mapeá-lo para uma porta da máquina host. Isso é perfeito.</p>

<p>Baseado nessa proposta eu criei uma box para o <a href="http://www.vagrantup.com/">Vagrant</a> que roda <a href="http://releases.ubuntu.com/precise/">Ubuntu Precise 64</a> com <a href="http://www.postgresql.org/">postgresql</a> 9.1 e mapeia a porta 5432 (usada normalmente pelo <a href="http://www.postgresql.org/">postgresql</a>) do host para dentro da VM. Isso tem o mesmo efeito de ter o <a href="http://www.postgresql.org/">postgresql</a> rodando nativamente e fica transparente para qualquer projeto.</p>

<p>Para mais informações veja: <a href="https://github.com/mergulhao/vagrant-precise64-postgresql">https://github.com/mergulhao/vagrant-precise64-postgresql</a></p>

<h3>Boxes para outros serviços</h3>

<p>Por enquanto foi só isso que eu precisei, mas a ideia é criar um box desse para cada tipo de projeto que precise de serviços específicos.</p>

<p>Até o próximo!</p>
]]></content>
  </entry>
  
</feed>
